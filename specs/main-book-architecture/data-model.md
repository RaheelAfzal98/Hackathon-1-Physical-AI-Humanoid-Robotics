# Data Model for Physical AI & Humanoid Robotics Textbook

## Key Entities

### Book
- **ID**: Unique identifier for the book
- **Title**: Title of the book ("Physical AI & Humanoid Robotics")
- **Description**: Description of the book's content and purpose
- **Version**: Current version of the book
- **CreatedDate**: Date when the book was created
- **LastModified**: Date when the book was last modified
- **Status**: Current status ("Draft", "Published", "Archived")

### Module
- **ID**: Unique identifier for the module
- **BookID**: Reference to the Book entity
- **Title**: Title of the module
- **Description**: Description of the module's content and learning objectives
- **Order**: Order of the module in the book sequence
- **CreatedDate**: Date when the module was created
- **LastModified**: Date when the module was last modified
- **Status**: Current status ("Draft", "Published", "Archived")

### Chapter
- **ID**: Unique identifier for the chapter
- **ModuleID**: Reference to the Module entity
- **Title**: Title of the chapter
- **Content**: Markdown content of the chapter
- **Order**: Order of the chapter in the module sequence
- **LearningObjectives**: List of learning objectives for the chapter
- **Prerequisites**: List of prerequisite knowledge or chapters
- **CreatedDate**: Date when the chapter was created
- **LastModified**: Date when the chapter was last modified
- **Status**: Current status ("Draft", "Published", "Archived")

### CodeExample
- **ID**: Unique identifier for the code example
- **ChapterID**: Reference to the Chapter entity
- **Title**: Title/description of the code example
- **Code**: The actual code content
- **Language**: Programming language of the code
- **Explanation**: Explanation of what the code does
- **CreatedDate**: Date when the code example was created
- **LastModified**: Date when the code example was last modified

### TechnicalConcept
- **ID**: Unique identifier for the technical concept
- **ChapterID**: Reference to the Chapter entity
- **Name**: Name of the technical concept
- **Definition**: Clear definition of the concept
- **Applications**: Real-world applications of the concept
- **RelatedConcepts**: List of related technical concepts
- **CreatedDate**: Date when the concept was defined
- **LastModified**: Date when the concept was last modified

### RAGDocument
- **ID**: Unique identifier for the RAG document
- **ChapterID**: Reference to the Chapter entity
- **Content**: The chunked content for RAG system
- **Embedding**: Vector embedding of the content
- **ChunkIndex**: Position of this chunk in the original document
- **ChunkType**: Type of content ("text", "code", "diagram", "explanation")
- **CreatedDate**: Date when the document chunk was created
- **LastModified**: Date when the document chunk was last modified

### RAGQuery
- **ID**: Unique identifier for the RAG query
- **QueryText**: The original query text from user
- **QueryEmbedding**: Vector embedding of the query
- **GeneratedResponse**: The response generated by the RAG system
- **Sources**: List of document IDs used to generate the response
- **GroundednessScore**: Score indicating how well the response is grounded in the source material
- **Timestamp**: When the query was made
- **UserID**: Identifier for the user who made the query (optional)

## Relationships

- Book → Module (One-to-Many): A book contains multiple modules
- Module → Chapter (One-to-Many): A module contains multiple chapters
- Chapter → CodeExample (One-to-Many): A chapter can contain multiple code examples
- Chapter → TechnicalConcept (One-to-Many): A chapter can introduce multiple technical concepts
- Chapter → RAGDocument (One-to-Many): A chapter is split into multiple RAG document chunks
- RAGQuery → RAGDocument (Many-to-Many): A query can reference multiple document chunks

## Validation Rules

1. Every Book must have a unique title and non-empty description
2. Every Module must belong to exactly one Book and have a unique title within that book
3. Every Chapter must belong to exactly one Module and have a unique title within that module
4. Module order numbers must be sequential starting from 1
5. Chapter order numbers within a module must be sequential starting from 1
6. Every CodeExample must have valid syntax for its specified language
7. Every TechnicalConcept must have a clear, unambiguous definition
8. RAGDocument embeddings must be properly formatted vectors
9. Status values must be one of the allowed values for each entity
10. Prerequisites in Chapter entities must reference valid other chapters

## State Transitions

- Draft → Published: When the content is complete and reviewed
- Published → Archived: When the content is outdated or replaced by newer content
- Draft → Archived: When the content is abandoned

## Examples

```yaml
Book:
  ID: "book001"
  Title: "Physical AI & Humanoid Robotics"
  Description: "A comprehensive textbook covering ROS 2, Digital Twins, AI-driven robotics, and Vision-Language-Action systems for humanoid robots"
  Version: "1.0"
  CreatedDate: "2025-12-11"
  LastModified: "2025-12-11"
  Status: "Published"

Module:
  ID: "mod001"
  BookID: "book001"
  Title: "ROS 2 Nervous System"
  Description: "Learn how ROS 2 serves as the communication nervous system of robots"
  Order: 1
  CreatedDate: "2025-12-11"
  LastModified: "2025-12-11"
  Status: "Published"

Chapter:
  ID: "ch001"
  ModuleID: "mod001"
  Title: "Introduction to ROS 2"
  LearningObjectives:
    - "Understand ROS 2 architecture fundamentals"
    - "Create basic ROS 2 nodes"
    - "Implement publisher-subscriber communication"
  Prerequisites: []
  Order: 1
  CreatedDate: "2025-12-11"
  LastModified: "2025-12-11"
  Status: "Published"

CodeExample:
  ID: "ce001"
  ChapterID: "ch001"
  Title: "Simple ROS 2 Publisher Node"
  Language: "python"
  Code: |
    import rclpy
    from rclpy.node import Node
    from std_msgs.msg import String

    class MinimalPublisher(Node):
        def __init__(self):
            super().__init__('minimal_publisher')
            self.publisher_ = self.create_publisher(String, 'topic', 10)
            timer_period = 0.5  # seconds
            self.timer = self.create_timer(timer_period, self.timer_callback)

        def timer_callback(self):
            msg = String()
            msg.data = 'Hello World'
            self.publisher_.publish(msg)

    def main(args=None):
        rclpy.init(args=args)
        minimal_publisher = MinimalPublisher()
        rclpy.spin(minimal_publisher)
        minimal_publisher.destroy_node()
        rclpy.shutdown()
  Explanation: "This example shows how to create a simple publisher node that publishes 'Hello World' messages to a topic every 0.5 seconds."

TechnicalConcept:
  ID: "tc001"
  ChapterID: "ch001"
  Name: "ROS 2 Node"
  Definition: "A node is an executable that uses ROS 2 client library to communicate with other nodes."
  Applications: ["Robot control", "Sensor data processing", "Path planning"]
  RelatedConcepts: ["Topic", "Service", "Action"]

RAGDocument:
  ID: "rd001"
  ChapterID: "ch001"
  Content: "A node is an executable that uses ROS 2 client library to communicate with other nodes. Nodes are the fundamental building blocks of a ROS 2 system..."
  ChunkType: "text"
  ChunkIndex: 0
  CreatedDate: "2025-12-11"

RAGQuery:
  ID: "rq001"
  QueryText: "What is a ROS 2 node?"
  GeneratedResponse: "A node is an executable that uses ROS 2 client library to communicate with other nodes. Nodes are the fundamental building blocks of a ROS 2 system, and they can publish messages to topics, provide services, or execute actions."
  Sources: ["rd001"]
  GroundednessScore: 0.95
  Timestamp: "2025-12-11T10:00:00Z"
```